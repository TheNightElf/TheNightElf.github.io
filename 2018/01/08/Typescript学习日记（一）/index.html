<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Typescriptå­¦ä¹ æ—¥è®°ï¼ˆä¸€ï¼‰ Â· å†·æš–æˆ‘è‡ªçŸ¥</title><meta name="description" content="Typescriptå­¦ä¹ æ—¥è®°ï¼ˆä¸€ï¼‰ - å†·æš–æˆ‘è‡ªçŸ¥"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://github.com/TheNightElf/atom.xml" title="å†·æš–æˆ‘è‡ªçŸ¥"></head><body><div class="wrap"><header><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/TheNightElf" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Typescriptå­¦ä¹ æ—¥è®°ï¼ˆä¸€ï¼‰</h1><div class="post-info">2018å¹´1æœˆ8æ—¥</div><div class="post-content"><p><code>javascript</code> æ˜¯è¿è¡Œåœ¨æµè§ˆå™¨ä¸­çš„ä¸€é—¨è„šæœ¬è¯­è¨€ï¼Œä¸ºäº†å°½å¯èƒ½çš„å‡å°‘å†…å­˜çš„å¼€æ”¯æ‰€ä»¥åœ¨è®¾è®¡ä¹‹åˆå®ƒå°±æ˜¯ä¸€é—¨ <code>å¼±ç±»å‹</code> çš„è¯­è¨€ã€‚è¿™åœ¨å¼€å‘å°è€Œç®€å•çš„åº”ç”¨æ—¶æ˜¯å¯ä»¥ä¸ºæˆ‘ä»¬å¸¦æ¥æ€§èƒ½çš„æå‡ï¼Œä½†æ˜¯éšç€é¡¹ç›®çš„æ‰©å¤§ <code>çŠ¶æ€</code> å˜çš„éš¾ä»¥è¿½è¸ªå°†ä¼šå¼•å‘å¾ˆå¤šçš„ <code>bug</code> å‡ºç°ã€‚<br>ä¾‹å­ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> test;</span><br><span class="line"><span class="comment">// -&gt; 'undefined'</span></span><br><span class="line"></span><br><span class="line">test = <span class="string">'str'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> test;</span><br><span class="line"><span class="comment">// -&gt; 'string'</span></span><br><span class="line"></span><br><span class="line">test = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> test;</span><br><span class="line"><span class="comment">// -&gt; 'number'</span></span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æœ¬ç¼–æ–‡ç¨¿å¹¶æ²¡æœ‰ä»»ä½• <code>æ•™ç¨‹</code> çš„è§‚ç‚¹ï¼Œåªæ˜¯ä¸ºå­¦ä¹  <code>typescript</code> å†™ä¸‹çš„ä¸€ä¸ªæ—¥å¿—å’Œæ€»ç»“ã€‚ğŸ¤</p>
<h3 id="Typescript"><a href="#Typescript" class="headerlink" title="Typescript"></a>Typescript</h3><p><code>typescript</code> æ˜¯ <code>javascript</code> çš„å¼ºç±»å‹ç‰ˆæœ¬ã€‚å®ƒä¼šåœ¨ç¼–è¯‘æœŸå»æ‰ç±»å‹å’Œç‰¹æœ‰è¯­æ³•ç”Ÿæˆ <code>javascript</code> ä»£ç ã€‚<code>typescript</code> æ˜¯ <code>javascript</code> çš„è¶…é›†ï¼Œå®ƒæ”¯æŒæ‰€æœ‰ <code>javascriptè¯­æ³•</code>ï¼Œä¸æ­¤åŒæ—¶å®ƒåˆä¸º <code>javascript</code> æ·»åŠ äº† <code>é™æ€ç±»å‹æ£€æŸ¥</code> ä½¿å¾— <code>javacript</code> ä¹Ÿæ‹¥æœ‰äº† <code>å¼ºç±»å‹è¯­è¨€</code> çš„ç‰¹æ€§ã€‚</p>
<h3 id="Typescript-åŸºç¡€ç±»å‹"><a href="#Typescript-åŸºç¡€ç±»å‹" class="headerlink" title="Typescript åŸºç¡€ç±»å‹"></a>Typescript åŸºç¡€ç±»å‹</h3><h4 id="å¸ƒå°”å€¼-boolean"><a href="#å¸ƒå°”å€¼-boolean" class="headerlink" title="å¸ƒå°”å€¼(boolean)"></a>å¸ƒå°”å€¼(boolean)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> bool: boolean = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">bool = <span class="number">123</span>;</span><br><span class="line"><span class="comment">// æŠ¥é”™ï¼Œ123æ˜¯numberç±»å‹è€Œébooleanç±»å‹</span></span><br><span class="line"></span><br><span class="line">bool = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">// okï¼Œtrueæ˜¯ä¸€ä¸ªbooleanç±»å‹</span></span><br></pre></td></tr></table></figure>
<h4 id="æ•°å€¼-number"><a href="#æ•°å€¼-number" class="headerlink" title="æ•°å€¼(number)"></a>æ•°å€¼(number)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num: number = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line">num = <span class="string">'str'</span>;</span><br><span class="line"><span class="comment">// error</span></span><br><span class="line"></span><br><span class="line">num = <span class="number">456</span>;</span><br><span class="line"><span class="comment">// success</span></span><br></pre></td></tr></table></figure>
<h4 id="å­—ç¬¦ä¸²-string"><a href="#å­—ç¬¦ä¸²-string" class="headerlink" title="å­—ç¬¦ä¸²(string)"></a>å­—ç¬¦ä¸²(string)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str: string = <span class="string">'str'</span>;</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>
<h4 id="æ•°ç»„-array"><a href="#æ•°ç»„-array" class="headerlink" title="æ•°ç»„(array)"></a>æ•°ç»„(array)</h4><p><strong>å®šä¹‰æ–¹å¼ï¼š</strong><br>ç¬¬ä¸€ç§ï¼Œå¯ä»¥åœ¨ <code>å…ƒç´ ç±»å‹</code> åé¢æ¥ä¸Š <code>[]</code>ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr: number[] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br></pre></td></tr></table></figure></p>
<p>ç¬¬äºŒç§ï¼Œä½¿ç”¨ <code>æ•°ç»„æ³›å‹</code> å®šä¹‰ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr: <span class="built_in">Array</span>&lt;number&gt; = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br></pre></td></tr></table></figure></p>
<h4 id="å…ƒç»„-tuple"><a href="#å…ƒç»„-tuple" class="headerlink" title="å…ƒç»„(tuple)"></a>å…ƒç»„(tuple)</h4><p>å…ƒç»„ç±»å‹å…è®¸è¡¨ç¤ºä¸€ä¸ªå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„(å…¶å®å°±æ˜¯ä¸€ä¸ªæ•°ç»„å†…åŒ…å«å¤šä¸ªç±»å‹çš„å€¼)ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> tup: [number, string] = [<span class="number">123</span>,<span class="string">'str'</span>];</span><br></pre></td></tr></table></figure></p>
<h4 id="æšä¸¾-enum"><a href="#æšä¸¾-enum" class="headerlink" title="æšä¸¾(enum)"></a>æšä¸¾(enum)</h4><p><code>enum</code> ç±»å‹æ˜¯å¯¹JavaScriptæ ‡å‡†æ•°æ®ç±»å‹çš„ä¸€ä¸ªè¡¥å……ã€‚ åƒC#ç­‰å…¶å®ƒè¯­è¨€ä¸€æ ·ï¼Œä½¿ç”¨æšä¸¾ç±»å‹å¯ä»¥ä¸ºä¸€ç»„æ•°å€¼èµ‹äºˆå‹å¥½çš„åå­—ã€‚<br><strong>ç”¨äººè¯è¯´å°±æ˜¯ï¼šæŠŠä¸€ç»„å€¼æ”¾åˆ°ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ä¸­ï¼Œç„¶åç»™è¿™ä¸ªå¯¹è±¡èµ·äº†ä¸ªåå­—ã€‚</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">enum animal &#123;dog,cat,pig&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹è±¡å–å€¼</span></span><br><span class="line"><span class="keyword">let</span> a: animal = animal.dog</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„å–å€¼</span></span><br><span class="line"><span class="keyword">let</span> b = animal[<span class="number">0</span>] <span class="comment">// -&gt; dog</span></span><br><span class="line"><span class="keyword">let</span> b = animal[<span class="number">1</span>] <span class="comment">// -&gt; cat</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥æ‰‹åŠ¨æ›´æ”¹ç´¢å¼•</span></span><br><span class="line"><span class="comment">// enum animal &#123;dog = 1, cat, pig&#125;</span></span><br><span class="line"><span class="comment">// let b = animal[1] // -&gt; dog</span></span><br><span class="line"><span class="comment">// let b = animal[2] // -&gt; cat</span></span><br></pre></td></tr></table></figure>
<h4 id="ä»»ä½•ç±»å‹-any"><a href="#ä»»ä½•ç±»å‹-any" class="headerlink" title="ä»»ä½•ç±»å‹(any)"></a>ä»»ä½•ç±»å‹(any)</h4><p>è‹¥æ˜¯ä¸æ¸…æ¥šå˜é‡çš„å…·ä½“ç±»å‹å¯ä»¥æŒ‡å®šä¸º <code>any</code>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a: any = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">a = <span class="string">'str'</span>; <span class="comment">// success</span></span><br><span class="line">a = <span class="number">123</span>; <span class="comment">// success</span></span><br></pre></td></tr></table></figure>
<h4 id="æ— ç±»å‹-void"><a href="#æ— ç±»å‹-void" class="headerlink" title="æ— ç±»å‹(void)"></a>æ— ç±»å‹(void)</h4><p>ä¸ <code>any</code> ç›¸åã€‚ä¸€ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼çš„æ—¶å€™é€šå¸¸æŒ‡å®šå…¶è¿”å›å€¼ç±»å‹ä¸º <code>void</code>ã€‚<br>ä¸€ä¸ª <code>void</code> ç±»å‹çš„å˜é‡åªèƒ½èµ‹å€¼ä¸º <code>undefined</code> | <code>null</code>ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">noReturn</span>(<span class="params"></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'è¿™ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> n: <span class="keyword">void</span> = <span class="literal">null</span>;</span><br><span class="line"><span class="comment">// let n: void = undefined;</span></span><br></pre></td></tr></table></figure></p>
<h4 id="nullå’Œundefined"><a href="#nullå’Œundefined" class="headerlink" title="nullå’Œundefined"></a>nullå’Œundefined</h4><p><code>undefined</code>å’Œ<code>null</code>ä¸¤è€…å„è‡ªæœ‰è‡ªå·±çš„ç±»å‹è¿˜æ˜¯å«åš<code>undefined</code>å’Œ<code>null</code>ã€‚</p>
<p><strong>é»˜è®¤æƒ…å†µä¸‹nullå’Œundefinedæ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ã€‚ å°±æ˜¯è¯´ä½ å¯ä»¥æŠŠ nullå’Œundefinedèµ‹å€¼ç»™numberç±»å‹çš„å˜é‡ã€‚</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> u: <span class="literal">undefined</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">let</span> n: <span class="literal">null</span> = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> num: number = <span class="number">123</span>;</span><br><span class="line">num = <span class="literal">undefined</span>; <span class="comment">// success</span></span><br></pre></td></tr></table></figure>
<h4 id="æ°¸è¿œä¸å­˜åœ¨çš„å€¼-never"><a href="#æ°¸è¿œä¸å­˜åœ¨çš„å€¼-never" class="headerlink" title="æ°¸è¿œä¸å­˜åœ¨çš„å€¼(never)"></a>æ°¸è¿œä¸å­˜åœ¨çš„å€¼(never)</h4><p>ä¾‹å¦‚ï¼Œ neverç±»å‹æ˜¯é‚£äº›æ€»æ˜¯ä¼šæŠ›å‡ºå¼‚å¸¸æˆ–æ ¹æœ¬å°±ä¸ä¼šæœ‰è¿”å›å€¼çš„å‡½æ•°è¡¨è¾¾å¼æˆ–ç®­å¤´å‡½æ•°è¡¨è¾¾å¼çš„è¿”å›å€¼ç±»å‹ï¼›<br><strong>neverç±»å‹æ˜¯ä»»ä½•ç±»å‹çš„å­ç±»å‹ï¼Œä¹Ÿå¯ä»¥èµ‹å€¼ç»™ä»»ä½•ç±»å‹ï¼›ç„¶è€Œï¼Œæ²¡æœ‰ç±»å‹æ˜¯neverçš„å­ç±»å‹æˆ–å¯ä»¥èµ‹å€¼ç»™neverç±»å‹ï¼ˆé™¤äº†neveræœ¬èº«ä¹‹å¤–ï¼‰ã€‚ å³ä½¿ anyä¹Ÿä¸å¯ä»¥èµ‹å€¼ç»™neverã€‚</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> n: never; <span class="comment">// never ä¸èƒ½è¢«èµ‹å€¼</span></span><br><span class="line"><span class="keyword">let</span> num: number = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">let</span> a: any;</span><br><span class="line"></span><br><span class="line">num = n; <span class="comment">// successï¼Œneverç±»å‹æ˜¯ä»»ä½•ç±»å‹çš„å­ç±»å‹</span></span><br><span class="line"></span><br><span class="line">n = <span class="number">123</span>; <span class="comment">// error</span></span><br><span class="line">n = a; <span class="comment">// error</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›neverçš„å‡½æ•°å¿…é¡»å­˜åœ¨æ— æ³•è¾¾åˆ°çš„ç»ˆç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">error</span>(<span class="params">message: string</span>): <span class="title">never</span> </span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(message);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ç±»å‹æ–­è¨€"><a href="#ç±»å‹æ–­è¨€" class="headerlink" title="ç±»å‹æ–­è¨€"></a>ç±»å‹æ–­è¨€</h4><p>æœ‰æ—¶å€™ä½ ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼Œä½ ä¼šæ¯”TypeScriptæ›´äº†è§£æŸä¸ªå€¼çš„è¯¦ç»†ä¿¡æ¯ã€‚ é€šå¸¸è¿™ä¼šå‘ç”Ÿåœ¨ä½ æ¸…æ¥šåœ°çŸ¥é“ä¸€ä¸ªå®ä½“å…·æœ‰æ¯”å®ƒç°æœ‰ç±»å‹æ›´ç¡®åˆ‡çš„ç±»å‹ã€‚</p>
<p><strong>å†™æ³•ä¸€</strong><br>å°–æ‹¬å·å½¢å¼ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str: any = <span class="string">"this is a string"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> strLength: number = (&lt;string&gt;str).length;</span><br></pre></td></tr></table></figure></p>
<p><strong>å†™æ³•äºŒ</strong><br><code>as</code> å½¢å¼ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str: any = <span class="string">"this is a string"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> strLength: number = (str <span class="keyword">as</span> string).length;</span><br></pre></td></tr></table></figure></p>
<p>ä»¥ä¸Šæ˜¯ <code>typescript</code> æ‰€æœ‰çš„åŸºç¡€ç±»å‹ã€‚</p>
</div></article></div></main><footer><div class="paginator"><a href="/2018/01/08/Typescriptå­¦ä¹ æ—¥è®°ï¼ˆäºŒï¼‰/" class="prev">ä¸Šä¸€ç¯‡</a><a href="/2018/01/05/XSSå’ŒCSRFé˜²å¾¡/" class="next">ä¸‹ä¸€ç¯‡</a></div><div class="copyright"><p>Â© 2017 - 2018 <a href="https://github.com/TheNightElf">å†·æš–æˆ‘è‡ªçŸ¥</a></p></div></footer></div></body></html>